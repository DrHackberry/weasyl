$def with (username, error)
$:{RENDER("common/stage_title.html", ["Enable 2FA: Step 1", "Two-Factor Authentication", "/control/2fa/status"])}

<div class="content form clear">
  <form method="POST" class="form skinny clear" action="/control/2fa/init">
    $if error == "password":
      <div id="signin_error"><strong>Whoops!</strong> You entered an incorrect password.</div>

    <h3>Two-Factor Authentication</h3>
    <p><strong>Username: $:{MARKDOWN_EXCERPT(username)}</strong></p>
    <p>
      You are about to enable Two-Factor Authentication (2FA) for the Weasyl account identified above.
      In order to proceed through this process, you will need a compatible app such as
      <a href="https://support.google.com/accounts/answer/1066447?hl=en">Google Authenticator</a> or FreeOTP,
      to generate time-based tokens each time you log into your Weasyl account.
    </p>
    <p>
      To begin, we need to confirm that you have control over this account. Please enter your password to continue.
    </p>

    <h3>Confirm your Password</h3>
    <label for="login-pass">Password</label>
    <input type="password" id="login-pass" class="input" name="password" placeholder="Password" required />

    $:{CSRF()}

    <div style="padding-top: 1em;">
      <a class="button negative" href="/control/2fa/status">Cancel</a>
      <button class="button positive" name="action" value="continue">Continue</button>
    </div>
  </form>
</div>
